(function(e,t){e._FS=function(){function t(t,n){t=t||{};this.url=t.url||"http://localhost:9876";this.log_max_size=t.log_max_size||10;this.log_min_size=t.log_min_size||3;this.log_max_interval=t.log_max_interval||1500;this.capable=!!Function.prototype.bind&&e.hasOwnProperty("JSON")&&e.hasOwnProperty("XMLHttpRequest");this.capable&&this.init(n)}t.prototype.log=function(e){try{this.buffer.push({event:e,timestamp:(new Date).getTime()});this.flushIfFull()}catch(t){return"Flamsteed not supported"}};t.prototype.flushIfFull=function(){this.buffer.length>=this.log_max_size&&this.flush()};t.prototype.flushIfEnough=function(){this.buffer.length>=this.log_min_size&&this.flush()};t.prototype.flush=function(){if(!this.flushing){this.flushing=true;this.resetTimer(this);this.sendData(this.buffer);this.emptyBuffer();this.flushing=false}};t.prototype.sendData=function(t){if(t.length>0){var n=new e.XMLHttpRequest;n.open("post",this.url,true);n.send(this.url,JSON.stringify(t))}};t.prototype.resetTimer=function(){e.clearInterval(this.interval);e.clearTimeout(this.timeout);this.timeout=e.setTimeout(this.startPoll.bind(this),this.log_max_interval)};t.prototype.startPoll=function(){this.interval=e.setInterval(this.flushIfEnough.bind(this),this.log_max_interval)};t.prototype.emptyBuffer=function(){this.buffer=[]};t.prototype.init=function(t){this.emptyBuffer();this.resetTimer();this.buffer=t||[];this.buffer.push(e.performance.timing)};return t}()})(this)